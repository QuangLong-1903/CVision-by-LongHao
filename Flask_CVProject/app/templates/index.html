{% extends "base.html" %}

{% block title %}CVision - AI-Powered CV Management System{% endblock %}

{% block extra_css %}
<style>
    /* Override body gradient for clean white background */
    body {
        background: white !important;
    }
    
    /* Hero Section - Modern Style */
    .hero-section {
        padding: 4rem 0 6rem;
        text-align: center;
        background: linear-gradient(135deg, #f8fafc 0%, #ffffff 50%, #f0f4ff 100%);
        position: relative;
        overflow: hidden;
    }
    
    .hero-section::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -10%;
        width: 600px;
        height: 600px;
        background: radial-gradient(circle, rgba(79, 70, 229, 0.1) 0%, transparent 70%);
        border-radius: 50%;
        animation: float 20s ease-in-out infinite;
    }
    
    .hero-section::after {
        content: '';
        position: absolute;
        bottom: -30%;
        left: -10%;
        width: 500px;
        height: 500px;
        background: radial-gradient(circle, rgba(6, 182, 212, 0.1) 0%, transparent 70%);
        border-radius: 50%;
        animation: float 15s ease-in-out infinite reverse;
    }
    
    @keyframes float {
        0%, 100% { transform: translate(0, 0) scale(1); }
        50% { transform: translate(30px, -30px) scale(1.1); }
    }
    
    .hero-label {
        display: inline-block;
        padding: 0.5rem 1.5rem;
        background: #f0f4ff;
        color: #4f46e5;
        border-radius: 50px;
        font-weight: 600;
        font-size: 0.9rem;
        margin-bottom: 2rem;
        animation: fadeInUp 0.6s ease;
    }
    
    .hero-title {
        font-size: 4rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        background: linear-gradient(135deg, #0f172a 0%, #4f46e5 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        line-height: 1.2;
        animation: fadeInUp 0.8s ease;
        position: relative;
        z-index: 1;
    }
    
    .hero-subtitle {
        font-size: 1.35rem;
        margin-bottom: 2.5rem;
        color: #64748b;
        max-width: 700px;
        margin-left: auto;
        margin-right: auto;
        line-height: 1.6;
        animation: fadeInUp 1s ease;
        position: relative;
        z-index: 1;
    }
    
    .hero-rating {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
        margin-bottom: 3rem;
        color: #64748b;
        font-size: 0.95rem;
        animation: fadeInUp 1.2s ease;
    }
    
    .stars {
        color: #fbbf24;
        font-size: 1.1rem;
    }
    
    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(30px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    /* CTA Buttons */
    .hero-buttons {
        display: flex;
        gap: 1rem;
        justify-content: center;
        flex-wrap: wrap;
        animation: fadeInUp 1.4s ease;
        margin-bottom: 4rem;
        position: relative;
        z-index: 1;
    }
    
    .btn-hero {
        padding: 1.1rem 2.5rem;
        font-size: 1.05rem;
        font-weight: 600;
        border-radius: 12px;
        transition: all 0.3s ease;
        border: none;
        text-decoration: none;
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
    }
    
    .btn-hero-primary {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        position: relative;
        overflow: hidden;
    }
    
    .btn-hero-primary::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        width: 0;
        height: 0;
        border-radius: 50%;
        background: rgba(255, 255, 255, 0.3);
        transform: translate(-50%, -50%);
        transition: width 0.6s, height 0.6s;
    }
    
    .btn-hero-primary:hover::before {
        width: 300px;
        height: 300px;
    }
    
    .btn-hero-primary:hover {
        background: linear-gradient(135deg, #764ba2 0%, #667eea 100%);
        transform: translateY(-3px);
        box-shadow: 0 12px 30px rgba(79, 70, 229, 0.4);
        color: white;
    }
    
    .btn-hero-outline {
        background: white;
        color: #0f172a;
        border: 2px solid #e2e8f0;
    }
    
    .btn-hero-outline:hover {
        background: #f8fafc;
        border-color: #cbd5e1;
        transform: translateY(-2px);
        color: #0f172a;
    }
    
    /* Inline Upload Panel in Hero */
    .upload-panel {
        max-width: 900px;
        margin: 0 auto 2rem;
        padding: 1.25rem;
        background: #ffffff;
        border: 1px solid #e2e8f0;
        border-radius: 16px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.05);
        animation: fadeInUp 1.2s ease;
    }
    .upload-box {
        display: flex;
        align-items: center;
        gap: 1rem;
        flex-wrap: wrap;
    }
    .file-label-inline {
        flex: 1 1 520px;
        border: 2px dashed #cbd5e1;
        border-radius: 12px;
        padding: 1.25rem 1rem;
        text-align: left;
        cursor: pointer;
        transition: all 0.2s ease;
        background: #f8fafc;
    }
    .file-label-inline:hover {
        border-color: #94a3b8;
        background: #f1f5f9;
    }
    .file-label-inline .hint {
        font-weight: 600;
        color: #0f172a;
    }
    .file-label-inline .sub {
        color: #64748b;
        font-size: 0.9rem;
    }
    .btn-upload-inline {
        flex: 0 0 auto;
        padding: 0.9rem 1.25rem;
        font-weight: 600;
        border-radius: 12px;
        border: none;
        background: #4f46e5;
        color: #fff;
        transition: all 0.2s ease;
    }
    .btn-upload-inline:hover { background: #4338ca; transform: translateY(-1px); }
    .supported-inline { color: #94a3b8; font-size: 0.85rem; margin-top: 0.25rem; }
    
    /* Trust Section */
    .trust-section {
        padding: 3rem 0;
        background: #f8fafc;
        border-top: 1px solid #e2e8f0;
        border-bottom: 1px solid #e2e8f0;
    }
    
    .trust-title {
        text-align: center;
        font-size: 0.85rem;
        color: #64748b;
        margin-bottom: 2rem;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        font-weight: 600;
    }
    
    .trust-logos {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 3rem;
        flex-wrap: wrap;
    }
    
    .trust-logo {
        font-size: 1.5rem;
        color: #94a3b8;
        opacity: 0.7;
        transition: all 0.3s ease;
    }
    
    .trust-logo:hover {
        opacity: 1;
        transform: scale(1.1);
    }
    
    /* Main Content Section */
    .main-content-section {
        padding: 6rem 0;
        background: white;
    }
    
    .section-label {
        text-align: center;
        font-size: 0.9rem;
        color: #4f46e5;
        font-weight: 600;
        margin-bottom: 1.5rem;
        text-transform: uppercase;
        letter-spacing: 1px;
    }
    
    .section-title {
        text-align: center;
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        color: #0f172a;
    }
    
    .section-description {
        text-align: center;
        font-size: 1.15rem;
        color: #64748b;
        max-width: 800px;
        margin: 0 auto 4rem;
        line-height: 1.8;
    }
    
    /* Feature Cards - Modern Style */
    .feature-card-modern {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        padding: 2.5rem;
        text-align: left;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        height: 100%;
        position: relative;
        overflow: hidden;
    }
    
    .feature-card-modern::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
        transform: scaleX(0);
        transform-origin: left;
        transition: transform 0.4s ease;
    }
    
    .feature-card-modern:hover::before {
        transform: scaleX(1);
    }
    
    .feature-card-modern:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 20px 50px rgba(79, 70, 229, 0.15);
        border-color: #667eea;
    }
    
    .feature-icon-modern {
        width: 64px;
        height: 64px;
        background: linear-gradient(135deg, #f0f4ff 0%, #e0e7ff 100%);
        border-radius: 16px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 1.5rem;
        font-size: 1.8rem;
        color: #4f46e5;
        transition: all 0.3s ease;
        position: relative;
    }
    
    .feature-card-modern:hover .feature-icon-modern {
        transform: scale(1.1) rotate(5deg);
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        box-shadow: 0 8px 20px rgba(79, 70, 229, 0.3);
    }
    
    .feature-title-modern {
        font-size: 1.4rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #0f172a;
    }
    
    .feature-desc-modern {
        color: #64748b;
        line-height: 1.7;
        font-size: 1.05rem;
    }
    
    .feature-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: #4f46e5;
        font-weight: 600;
        text-decoration: none;
        margin-top: 1rem;
        transition: all 0.3s ease;
    }
    
    .feature-link:hover {
        gap: 0.75rem;
        color: #4338ca;
    }
    
    /* Testimonials Section */
    .testimonials-section {
        padding: 6rem 0;
        background: linear-gradient(180deg, #ffffff 0%, #f8fafc 50%, #ffffff 100%);
        position: relative;
    }
    
    .testimonial-card {
        background: white;
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        padding: 2.5rem;
        height: 100%;
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        position: relative;
        overflow: hidden;
    }
    
    .testimonial-card::after {
        content: '"';
        position: absolute;
        top: 1rem;
        right: 1.5rem;
        font-size: 6rem;
        color: rgba(79, 70, 229, 0.05);
        font-family: Georgia, serif;
        line-height: 1;
    }
    
    .testimonial-card:hover {
        transform: translateY(-8px);
        box-shadow: 0 20px 50px rgba(79, 70, 229, 0.15);
        border-color: #667eea;
    }
    
    .testimonial-text {
        color: #0f172a;
        font-size: 1.05rem;
        line-height: 1.7;
        margin-bottom: 1.5rem;
        font-style: italic;
    }
    
    .testimonial-author {
        display: flex;
        align-items: center;
        gap: 1rem;
    }
    
    .testimonial-avatar {
        width: 56px;
        height: 56px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 700;
        font-size: 1.3rem;
        box-shadow: 0 4px 15px rgba(79, 70, 229, 0.3);
        transition: all 0.3s ease;
    }
    
    .testimonial-card:hover .testimonial-avatar {
        transform: scale(1.1);
        box-shadow: 0 8px 25px rgba(79, 70, 229, 0.4);
    }
    
    .testimonial-info {
        flex: 1;
    }
    
    .testimonial-name {
        font-weight: 700;
        color: #0f172a;
        margin-bottom: 0.25rem;
    }
    
    .testimonial-role {
        color: #64748b;
        font-size: 0.9rem;
    }
    
    /* CTA Section */
    .cta-section {
        padding: 6rem 0;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        text-align: center;
        position: relative;
        overflow: hidden;
    }
    
    .cta-section::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -10%;
        width: 500px;
        height: 500px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: float 20s ease-in-out infinite;
    }
    
    .cta-section::after {
        content: '';
        position: absolute;
        bottom: -30%;
        left: -10%;
        width: 400px;
        height: 400px;
        background: rgba(255, 255, 255, 0.1);
        border-radius: 50%;
        animation: float 15s ease-in-out infinite reverse;
    }
    
    .cta-title {
        font-size: 2.5rem;
        font-weight: 800;
        margin-bottom: 1rem;
        color: white;
        position: relative;
        z-index: 1;
    }
    
    .cta-subtitle {
        font-size: 1.2rem;
        color: rgba(255, 255, 255, 0.9);
        margin-bottom: 2.5rem;
        position: relative;
        z-index: 1;
    }
    
    .cta-section .btn-hero-primary {
        background: white;
        color: #667eea;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
    }
    
    .cta-section .btn-hero-primary:hover {
        background: #f8fafc;
        color: #764ba2;
        transform: translateY(-3px);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.3);
    }
    
    .cta-section .btn-hero-outline {
        background: transparent;
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.3);
    }
    
    .cta-section .btn-hero-outline:hover {
        background: rgba(255, 255, 255, 0.1);
        border-color: white;
        color: white;
    }
    
    /* Stats Section */
    .stats-section {
        padding: 4rem 0;
        background: white;
    }
    
    .stat-item {
        text-align: center;
        padding: 2rem;
    }
    
    .stat-number {
        font-size: 3rem;
        font-weight: 800;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        margin-bottom: 0.5rem;
    }
    
    .stat-label {
        color: #64748b;
        font-size: 1.1rem;
        font-weight: 500;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
        .hero-title {
            font-size: 2.5rem;
        }
        
        .section-title {
            font-size: 2rem;
        }
        
        .hero-subtitle, .section-description {
            font-size: 1.1rem;
        }
        
        .cta-title {
            font-size: 2rem;
        }
        
        .stat-number {
            font-size: 2.5rem;
        }
        
        .hero-section {
            padding: 3rem 0 4rem;
        }
    }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="container">
        <h1 class="hero-title" style="font-size: 3.2rem; font-weight: 800; letter-spacing: -0.02em;">
            CVision - AIPowered CV Management & Job Matching Platform
        </h1>

        <p class="hero-subtitle" style="max-width: 820px;">
            Let AI handle your CV sorting effortlessly.        </p>

        <!-- Action Buttons -->
        <div class="hero-buttons">
            <a href="/create-cv" class="btn btn-hero btn-hero-primary">
                <i class="bi bi-file-earmark-plus"></i>
                Tạo CV ngay
            </a>
            <a href="/jobs" class="btn btn-hero btn-hero-outline">
                <i class="bi bi-briefcase"></i>
                Tìm việc làm
            </a>
        </div>
        
        <!-- Hero Rating -->
        <div class="hero-rating">
            <div class="stars">
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
                <i class="bi bi-star-fill"></i>
            </div>
            <span>Được đánh giá 5 sao bởi hàng trăm nhà tuyển dụng</span>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats-section">
    <div class="container">
        <div class="row g-4">
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">1000+</div>
                    <div class="stat-label">CV được xử lý</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">95%</div>
                    <div class="stat-label">Độ chính xác AI</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">500+</div>
                    <div class="stat-label">Công ty tin dùng</div>
                </div>
            </div>
            <div class="col-md-3 col-6">
                <div class="stat-item">
                    <div class="stat-number">80%</div>
                    <div class="stat-label">Tiết kiệm thời gian</div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Trust Section -->
<section class="trust-section">
    <div class="container">
        <div class="trust-title">Được tin dùng bởi các công ty hàng đầu</div>
        <div class="trust-logos">
            <div class="trust-logo"><i class="bi bi-building"></i> TechCorp</div>
            <div class="trust-logo"><i class="bi bi-briefcase"></i> StartupHub</div>
            <div class="trust-logo"><i class="bi bi-shop"></i> GlobalHR</div>
            <div class="trust-logo"><i class="bi bi-graph-up"></i> ScaleUp</div>
            <div class="trust-logo"><i class="bi bi-people"></i> TeamWork</div>
        </div>
    </div>
</section>

<!-- Main Content Section -->
<section class="main-content-section" id="features">
    <div class="container">
        <div class="section-label">Cách CVision hoạt động</div>
        <h2 class="section-title">Tự động hóa quy trình tuyển dụng</h2>
        <p class="section-description">
            Tải CV lên và để AI của chúng tôi xử lý. CVision tự động phân loại, sắp xếp và 
            khớp ứng viên với vị trí công việc - tiết kiệm hàng giờ làm việc thủ công.
        </p>
        
        <div class="row g-4">
            <div class="col-md-4">
                <div class="feature-card-modern">
                    <div class="feature-icon-modern">
                        <i class="bi bi-robot"></i>
                    </div>
                    <h3 class="feature-title-modern">Phân loại bằng AI</h3>
                    <p class="feature-desc-modern">
                        Thuật toán machine learning tiên tiến tự động phân loại CV theo vị trí công việc, 
                        kỹ năng và trình độ kinh nghiệm với độ chính xác 95%.
                    </p>
                  
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card-modern">
                    <div class="feature-icon-modern">
                        <i class="bi bi-lightning-charge"></i>
                    </div>
                    <h3 class="feature-title-modern">Xử lý tức thì</h3>
                    <p class="feature-desc-modern">
                        Xử lý hàng trăm CV trong vài giây. Hệ thống của chúng tôi hỗ trợ file PDF, DOCX và TXT 
                        một cách liền mạch với tính năng kéo thả đơn giản.
                    </p>
                   
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="feature-card-modern">
                    <div class="feature-icon-modern">
                        <i class="bi bi-shield-check"></i>
                    </div>
                    <h3 class="feature-title-modern">Bảo mật & Riêng tư</h3>
                    <p class="feature-desc-modern">
                        Bảo mật cấp doanh nghiệp đảm bảo tất cả dữ liệu ứng viên được mã hóa và tuân thủ 
                        các quy định GDPR và bảo vệ dữ liệu.
                    </p>
                   
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Testimonials Section -->
<section class="testimonials-section">
    <div class="container">
        <div class="section-label">Khách hàng nói gì về chúng tôi</div>
        <h2 class="section-title">Được yêu thích bởi các đội ngũ HR</h2>
        
        <div class="row g-4 mt-4">
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">
                        "CVision đã giảm thời gian sàng lọc của chúng tôi xuống 80%. Hệ thống phân loại AI cực kỳ chính xác và giúp chúng tôi tập trung vào những ứng viên tốt nhất ngay lập tức."
                    </p>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">L</div>
                        <div class="testimonial-info">
                            <div class="testimonial-name">Linda Chen</div>
                            <div class="testimonial-role">HR Director</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">
                        "Là một công ty tuyển dụng, CVision là một yếu tố thay đổi cuộc chơi. Chúng tôi có thể xử lý số lượng khách hàng gấp 3 lần mà không cần tăng số lượng nhân viên. Hoàn toàn xứng đáng."
                    </p>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">M</div>
                        <div class="testimonial-info">
                            <div class="testimonial-name">Michael Rodriguez</div>
                            <div class="testimonial-role">Agency Owner</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-md-4">
                <div class="testimonial-card">
                    <p class="testimonial-text">
                        "Giao diện rất sạch sẽ và dễ sử dụng. Chúng tôi đã áp dụng CVision trong vài ngày, 
                        và ROI đã rất cao. Rất đáng để thử!"
                    </p>
                    <div class="testimonial-author">
                        <div class="testimonial-avatar">S</div>
                        <div class="testimonial-info">
                            <div class="testimonial-name">Sarah Kim</div>
                            <div class="testimonial-role">Talent Manager</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="cta-section">
    <div class="container">
        <h2 class="cta-title">Sẵn sàng thay đổi quy trình tuyển dụng?</h2>
        <p class="cta-subtitle">
            Tham gia cùng hàng trăm công ty đang sử dụng CVision để tối ưu hóa tuyển dụng
        </p>
        <div class="hero-buttons">
            <a href="/register" class="btn btn-hero btn-hero-primary">
                Bắt đầu miễn phí
                <i class="bi bi-arrow-right"></i>
            </a>
            <a href="/login" class="btn btn-hero btn-hero-outline">
                Đăng nhập
            </a>
        </div>
    </div>
</section>

<!-- FAQ Section -->
<section class="main-content-section" id="faq">
    <div class="container">
        <div class="section-label">FAQ</div>
        <h2 class="section-title">Các câu hỏi thường gặp</h2>
        <p class="section-description">
            Mọi thứ bạn cần biết về CVision. Không tìm thấy câu trả lời bạn đang tìm kiếm? Liên hệ với đội ngũ của chúng tôi.
        </p>

        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="accordion" id="faqAccordion" style="border: 1px solid #e2e8f0; border-radius: 16px; overflow: hidden;">
                    <div class="accordion-item" style="border: none;">
                        <h2 class="accordion-header" id="faq1">
                            <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1" style="padding: 1.25rem 1.5rem;">
                                CVision phân loại CV như thế nào?
                            </button>
                        </h2>
                        <div id="faqCollapse1" class="accordion-collapse collapse show" aria-labelledby="faq1" data-bs-parent="#faqAccordion">
                            <div class="accordion-body" style="color:#475569;">
                                Chúng tôi sử dụng các mô hình học máy được huấn luyện trên các vai trò công việc, kỹ năng và tín hiệu kinh nghiệm để tự động nhóm CV vào các danh mục liên quan.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item" style="border-top: 1px solid #e2e8f0; border-bottom: none;">
                        <h2 class="accordion-header" id="faq2">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2" style="padding: 1.25rem 1.5rem;">
                                Các định dạng file nào được hỗ trợ?
                            </button>
                        </h2>
                        <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faq2" data-bs-parent="#faqAccordion">
                            <div class="accordion-body" style="color:#475569;">
                                Chúng tôi hỗ trợ các định dạng file PDF, DOCX, TXT và ảnh (JPG, PNG, JPEG). Bạn có thể kéo thả các file trực tiếp vào vùng tải lên hoặc duyệt từ máy tính của bạn. Ảnh sẽ được xử lý bằng OCR để trích xuất văn bản.
                            </div>
                        </div>
                    </div>

                    <div class="accordion-item" style="border-top: 1px solid #e2e8f0;">
                        <h2 class="accordion-header" id="faq3">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3" style="padding: 1.25rem 1.5rem;">
                                Dữ liệu của tôi có an toàn không?
                            </button>
                        </h2>
                        <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faq3" data-bs-parent="#faqAccordion">
                            <div class="accordion-body" style="color:#475569;">
                                Đúng. Chúng tôi mã hóa dữ liệu khi nghỉ và trong quá trình chuyển. Các kiểm soát truy cập dựa trên vai trò và ghi nhật ký giúp đảm bảo sự riêng tư và tuân thủ.
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
</section>

<!-- Pricing CTA (Minimal) -->
<section class="cta-section">
    <div class="container">
        <h2 class="cta-title">Giá cả đơn giản, mở rộng theo nhu cầu</h2>
        <p class="cta-subtitle">Bắt đầu miễn phí. Nâng cấp khi nhu cầu tuyển dụng tăng trưởng.</p>
        <div class="hero-buttons">
            <a href="/register" class="btn btn-hero btn-hero-primary">
                Bắt đầu miễn phí
                <i class="bi bi-arrow-right"></i>
            </a>
            <a href="#faq" class="btn btn-hero btn-hero-outline">Xem FAQ</a>
        </div>
    </div>
</section>
{% endblock %}

{% block extra_js %}
<script>
    // Inline upload interactions (hero) - Same functionality as upload_cv.html
    (function() {
        const fileBtn = document.querySelector('label[for="heroFile"]');
        const fileInput = document.getElementById('heroFile');
        const heroHiddenFile = document.getElementById('heroHiddenFile');
        const heroUploadForm = document.getElementById('heroUploadForm');
        const heroUploadArea = document.getElementById('heroUploadArea');
        const heroFileNameDisplay = document.getElementById('heroFileNameDisplay');
        const heroFileNameText = document.getElementById('heroFileNameText');
        const heroUploadBtn = document.getElementById('heroUploadBtn');
        const heroUploadMessage = document.getElementById('heroUploadMessage');
        const textarea = document.getElementById('heroTextarea');
        const btnSample = document.getElementById('btnSample');
        const btnPaste = document.getElementById('btnPaste');

        // Sample and paste buttons
        if (btnSample) btnSample.addEventListener('click', () => {
            textarea.value = 'Dear Hiring Manager,\n\nI am excited to apply for the Software Engineer position...';
        });
        if (btnPaste && navigator.clipboard) btnPaste.addEventListener('click', async () => {
            try { textarea.value = await navigator.clipboard.readText(); } catch {}
        });

        // File input click
        if (fileBtn) fileBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            if (fileInput) fileInput.click();
        });

        // Upload area click
        if (heroUploadArea) {
            heroUploadArea.addEventListener('click', (e) => {
                if (e.target !== textarea && e.target.tagName !== 'BUTTON' && e.target.tagName !== 'LABEL') {
                    if (fileInput) fileInput.click();
                }
            });
        }

        // File input change
        if (fileInput) {
            fileInput.addEventListener('change', (e) => {
                const file = e.target.files[0];
                if (file && heroHiddenFile) {
                    // Create new FileList and assign to hidden input
                    const dt = new DataTransfer();
                    dt.items.add(file);
                    heroHiddenFile.files = dt.files;
                    updateHeroFileName(file);
                }
            });
        }

        // Drag and drop functions (same as upload_cv.html)
        function handleHeroDragOver(e) {
            e.preventDefault();
            e.stopPropagation();
            if (heroUploadArea) {
                heroUploadArea.style.borderColor = '#4f46e5';
                heroUploadArea.style.backgroundColor = '#f0f4ff';
            }
        }

        function handleHeroDragLeave(e) {
            e.preventDefault();
            e.stopPropagation();
            if (heroUploadArea) {
                heroUploadArea.style.borderColor = '#e2e8f0';
                heroUploadArea.style.backgroundColor = '#fff';
            }
        }

        function handleHeroDrop(e) {
            e.preventDefault();
            e.stopPropagation();
            if (heroUploadArea) {
                heroUploadArea.style.borderColor = '#e2e8f0';
                heroUploadArea.style.backgroundColor = '#fff';
            }

            const dt = e.dataTransfer;
            const file = dt.files[0];
            
            if (file) {
                // Check file type
                const allowedTypes = ['application/pdf', 'application/vnd.openxmlformats-officedocument.wordprocessingml.document', 'text/plain'];
                const allowedExtensions = ['.pdf', '.docx', '.txt', '.jpg', '.jpeg', '.png'];
                const fileName = file.name.toLowerCase();
                const isValid = allowedExtensions.some(ext => fileName.endsWith(ext));

                if (!isValid) {
                    showHeroMessage('error', 'Only PDF, DOCX, TXT, JPG, JPEG, and PNG files are allowed.');
                    return;
                }

                // Set file to inputs
                const dt2 = new DataTransfer();
                dt2.items.add(file);
                if (fileInput) fileInput.files = dt2.files;
                if (heroHiddenFile) heroHiddenFile.files = dt2.files;
                
                updateHeroFileName(file);
            }
        }

        // Get file icon based on extension
        function getFileIcon(fileName) {
            const ext = fileName.split('.').pop().toLowerCase();
            const icons = {
                'pdf': 'bi-file-earmark-pdf',
                'docx': 'bi-file-earmark-word',
                'doc': 'bi-file-earmark-word',
                'txt': 'bi-file-earmark-text',
                'jpg': 'bi-file-earmark-image',
                'jpeg': 'bi-file-earmark-image',
                'png': 'bi-file-earmark-image'
            };
            return icons[ext] || 'bi-file-earmark';
        }

        // Format file size
        function formatFileSize(bytes) {
            if (bytes === 0) return '0 Bytes';
            const k = 1024;
            const sizes = ['Bytes', 'KB', 'MB', 'GB'];
            const i = Math.floor(Math.log(bytes) / Math.log(k));
            return Math.round(bytes / Math.pow(k, i) * 100) / 100 + ' ' + sizes[i];
        }

        function updateHeroFileName(file) {
            const heroRemoveFileBtn = document.getElementById('heroRemoveFile');
            
            if (file && heroFileNameDisplay && heroFileNameText) {
                const fileIcon = getFileIcon(file.name);
                const fileSize = formatFileSize(file.size);
                
                // Update icon
                const iconElement = heroFileNameDisplay.querySelector('i');
                if (iconElement) {
                    iconElement.className = `bi ${fileIcon}`;
                }
                
                // Update file name with size
                heroFileNameText.textContent = `${file.name} (${fileSize})`;
                heroFileNameDisplay.style.display = 'block';
                
                // Add remove button functionality
                if (heroRemoveFileBtn) {
                    heroRemoveFileBtn.onclick = function(e) {
                        e.stopPropagation();
                        removeHeroFile();
                    };
                }
            } else if (heroFileNameDisplay) {
                heroFileNameDisplay.style.display = 'none';
            }
        }

        function removeHeroFile() {
            // Clear file inputs
            if (fileInput) fileInput.value = '';
            if (heroHiddenFile) heroHiddenFile.value = '';
            
            // Hide file name display
            if (heroFileNameDisplay) heroFileNameDisplay.style.display = 'none';
            
            // Clear textarea if needed
            if (textarea) textarea.value = '';
        }

        function showHeroMessage(type, message) {
            if (!heroUploadMessage) return;
            heroUploadMessage.style.display = 'block';
            heroUploadMessage.className = `alert alert-${type === 'error' ? 'danger' : 'success'}`;
            heroUploadMessage.textContent = message;
            heroUploadMessage.style.marginTop = '1rem';
            heroUploadMessage.style.borderRadius = '12px';
            heroUploadMessage.style.padding = '0.75rem 1rem';

            setTimeout(() => {
                heroUploadMessage.style.display = 'none';
            }, 5000);
        }

        // Form submission - Use API with JWT if logged in, otherwise use form POST
        if (heroUploadForm) {
            heroUploadForm.addEventListener('submit', async (e) => {
                e.preventDefault();
                
                const file = heroHiddenFile?.files[0];
                if (!file) {
                    showHeroMessage('error', 'Please select a file first.');
                    return;
                }

                // Show loading state
                if (heroUploadBtn) {
                    heroUploadBtn.disabled = true;
                    heroUploadBtn.innerHTML = '<span class="spinner-border spinner-border-sm me-1"></span> Uploading...';
                }

                const token = localStorage.getItem('access_token');
                
                // If user is logged in, use API with JWT
                if (token) {
                    try {
                        const formData = new FormData();
                        formData.append('file', file);
                        
                        const res = await fetch('/api/upload', {
                            method: 'POST',
                            headers: {
                                'Authorization': `Bearer ${token}`
                            },
                            body: formData
                        });
                        
                        const data = await res.json();
                        
                        if (res.ok && data.success) {
                            showHeroMessage('success', data.message || 'CV uploaded successfully!');
                            
                            // Redirect to create-cv after 1 second
                            setTimeout(() => {
                                window.location.href = '/create-cv';
                            }, 1000);
                        } else {
                            throw new Error(data.message || 'Upload failed');
                        }
                    } catch (error) {
                        console.error('Upload error:', error);
                        showHeroMessage('error', error.message || 'Failed to upload CV. Please try again.');
                        if (heroUploadBtn) {
                            heroUploadBtn.disabled = false;
                            heroUploadBtn.innerHTML = '<i class="bi bi-cloud-upload me-1"></i> Upload CV';
                        }
                    }
                } else {
                    // If not logged in, use form POST (fallback)
                    heroUploadForm.submit();
                }
            });
        }

        // Prevent default drag behaviors on page
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            document.addEventListener(eventName, (e) => {
                if (heroUploadArea && heroUploadArea.contains(e.target)) {
                    // Let upload area handle it
                    return;
                }
                e.preventDefault();
                e.stopPropagation();
            }, false);
        });

    })();
</script>
{% endblock %}

